<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Eidolon of Devotion</title>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:monospace;}
body{
  background:#000;
  color:#e6c86e;
  width:100vw;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  cursor:pointer;
}

.panel{
  width:420px;
  padding:26px;
  border:1px solid rgba(255,215,120,.6);
  box-shadow:0 0 30px rgba(255,215,120,.15);
  text-align:center;
  opacity:0;
  transition:1s;
}

.title{font-size:15px;letter-spacing:2px;margin-bottom:14px;}
.line{font-size:12px;opacity:.85;margin:6px 0;}

.bar{
  width:100%;
  height:6px;
  background:#222;
  margin:14px 0;
  overflow:hidden;
}
.fill{
  width:0%;
  height:100%;
  background:#ffd86b;
}

/* LEVEL */
.levelWrap{display:flex;justify-content:center;margin-top:14px;}

.circle{
  width:120px;
  height:120px;
  border-radius:50%;
  border:4px solid #aaa;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:34px;
  color:#aaa;
  animation: spin 4s linear infinite;
  transition:.4s;
}
.circle span{
  animation: counterSpin 4s linear infinite;
}

.circle.gold{
  border-color:#ffd86b;
  color:#ffd86b;
  box-shadow:0 0 40px rgba(255,215,120,.9);
  animation:none;
}
.circle.gold span{animation:none;}

.blink{animation: blink .25s steps(1) infinite;}

@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}
@keyframes counterSpin{from{transform:rotate(0)}to{transform:rotate(-360deg)}}
@keyframes blink{50%{opacity:0}}
</style>
</head>

<body>

<div class="panel" id="panel"></div>

<script>
const panel = document.getElementById("panel");
let allowNext = false;

function show(html){
  panel.style.opacity = 0;
  setTimeout(()=>{
    panel.innerHTML = html;
    panel.style.opacity = 1;
  },400);
}

/* =====================
   STATE 1 — SYSTEM CHECK
===================== */
show(`
  <div class="title">SYSTEM STATUS</div>
  <div class="line">Running final check...</div>
  <div class="bar"><div class="fill" id="fill"></div></div>
  <div class="line">Verifying growth parameters</div>
  <div class="line">Cross-referencing life data</div>
`);

let progress = 0;
const fill = () => document.getElementById("fill");
const progInt = setInterval(()=>{
  if(progress >= 100){ clearInterval(progInt); return; }
  progress++;
  fill().style.width = progress + "%";
},35);

/* =====================
   STATE 2 — RESULT
===================== */
setTimeout(()=>{
  show(`
    <div class="title">SYSTEM RESULT</div>
    <div class="line">Status: QUALIFIED</div>
    <div class="line">Promotion available</div>
  `);
},4200);

/* =====================
   STATE 3 — LEVEL UP
===================== */
setTimeout(()=>{
  show(`
    <div class="title">LEVEL UP</div>
    <div class="levelWrap">
      <div class="circle" id="circle"><span id="lvl">19</span></div>
    </div>
  `);

  const circle = () => document.getElementById("circle");
  const lvl = () => document.getElementById("lvl");

  let blinkCount = 0;
  const blinkInt = setInterval(()=>{
    circle().classList.toggle("gold");
    blinkCount++;
    if(blinkCount >= 10){
      clearInterval(blinkInt);
      lvl().textContent = "20";
      circle().classList.add("gold");
    }
  },300);

},7200);

/* =====================
   STATE 4 — READY
===================== */
setTimeout(()=>{
  show(`
    <div class="title">LEVEL 20 CONFIRMED</div>
    <div class="line">New potential unlocked</div>
    <div class="line">Click anywhere to continue</div>
  `);
  allowNext = true;
},10200);

/* CLICK TO NEXT PHASE */
document.body.onclick = ()=>{
  if(!allowNext) return;
  window.location.href = "phase7.html";
};
</script>

</body>
</html>
